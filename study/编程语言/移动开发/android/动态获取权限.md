```
在 Android 6.0 以及 之后的更高版本都需要动态的申请权限，这个给予了用户更大的自由度。


//Android 6.0 之后危险权限需要动态配置权限
    if (Build.VERSION.SDK_INT >= 23) {
        //判断是否获得一个特定的权限
        int checkCallPhonePermission = ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.READ_CONTACTS);
    
        if (checkCallPhonePermission != PackageManager.PERMISSION_GRANTED) {
            //表示你没有这个权限,就需要弹出对话框，询问用户是否允许获取该权限
            ActivityCompat.requestPermissions(SelectorContactActivity.this, 
            new String[]{Manifest.permission.READ_CONTACTS}, REQUEST_READ_CONTACTS);
        } else {
            //表示现在有这个权限
            return getHashMaps();
        }
    } else {
        //表示版本小于 Android 6.0 可以不用动态获取权限
        return getHashMaps();
    }
    
        
 @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);

        //根据结果码和grantResult做相应的操作
        switch (requestCode) {
            case REQUEST_READ_CONTACTS:
                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    //表示允许获取权限
                   list=getHashMaps();//特别注意这里，如果是弹出对话框，选择允许的话，一定要记得保存值。
                } else {
                    Toast.makeText(this, "READ_CONTACTS Denied", Toast.LENGTH_SHORT).show();
                }
                break;
            default:
                break;
        }
    }
```